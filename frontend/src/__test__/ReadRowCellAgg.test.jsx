import { render, screen } from './setupTest.js'
import { cleanup } from '@testing-library/react'
import ReadRow from '../components/ReadRow'

const mockData = {
  ID: 0,
  PID: 'SU-11430-1',
  CREATED_DATE: '2022-09-01T18:38:29',
  CRO: 'Pharmaron',
  ASSAY_TYPE: 'pRb 807 HTRF',
  COMPOUND_ID: 'FT008817',
  EXPERIMENT_ID: '208952',
  BATCH_ID: 'FT008817-01',
  CELL_LINE: 'ZR-75-1',
  VARIANT: null,
  PCT_SERUM: '10',
  PASSAGE_NUMBER: '6',
  WASHOUT: 'N',
  CELL_INCUBATION_HR: '18',
  PLOT: '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',
  IC50_NM: 77.06,
  FLAG: 0,
  COMMENT_TEXT: 'asdfasdfasdfasdf',
  USER_NAME: 'SPENCER.TRINH',
  CHANGE_DATE: '2022-11-18T15:49:17',
  GEOMEAN: 60.67,
}

afterEach(cleanup)

describe('Check ReadRow component', () => {
  it('renders table row with mock data', async () => {
    render(
      <ReadRow
        data={mockData}
        keyValue={`${mockData.PID}-READ-1`}
        username={mockData.USER_NAME}
        types={['cellular_agg', 'get']}
        columnLoading={false}
        handleEditClick={jest.fn()}
      />
    )
    expect(
      screen.getByText(mockData.CELL_INCUBATION_HR.toString())
    ).toBeTruthy()
    expect(screen.getByText(mockData.EXPERIMENT_ID)).toBeTruthy()
    expect(screen.getByText(mockData.BATCH_ID)).toBeTruthy()
    expect(screen.getByText(mockData.CELL_LINE)).toBeTruthy()
    expect(screen.getByText('-')).toBeTruthy() // variant
    expect(screen.getByText(mockData.IC50_NM)).toBeTruthy()
    expect(screen.getByText(mockData.GEOMEAN)).toBeTruthy()
    expect(screen.getByText(mockData.PCT_SERUM)).toBeTruthy()
    expect(screen.getByText(mockData.WASHOUT)).toBeTruthy()
    expect(screen.getByText(mockData.PASSAGE_NUMBER)).toBeTruthy()
    expect(screen.getByText('include')).toBeTruthy() // flag
    expect(screen.getByRole('img')).toHaveAttribute(
      'src',
      `data:image/png;base64, ${mockData.PLOT}`
    )
  })
})
